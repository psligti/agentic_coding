# OpenCode WebApp Environment Variables
# Copy this file to .env and fill in your values
# IMPORTANT: .env files are loaded in order: repo .env -> ~/.config/opencode-python/.env
# Values in later files override earlier ones

# =============================================================================
# FRONTEND (Vite/React) Variables
# =============================================================================
# These variables are prefixed with VITE_ to be exposed to the client-side code

# API base URL for frontend to connect to backend
# Default: http://localhost:8000/api/v1
VITE_API_BASE_URL=http://localhost:8000/api/v1

# =============================================================================
# BACKEND (Python/SDK) Variables - OpenCode Python SDK Settings
# =============================================================================
# These variables control the Python SDK and backend behavior

# -----------------------------------------------------------------------------
# Default Provider Settings
# -----------------------------------------------------------------------------
# Default provider to use when no account is specified
# Options: z.ai, z.ai-coding-plan, anthropic, openai, google, google-vertex,
#          amazon-bedrock, azure, vercel, openrouter, xai, mistral, groq,
#          deepinfra, cerebras, cohere, togetherai, perplexity, gitlab, github-copilot
# Default: z.ai
OPENCODE_PYTHON_PROVIDER_DEFAULT=z.ai

# Default model to use when no account is specified
# Default: glm-4.7
OPENCODE_PYTHON_MODEL_DEFAULT=glm-4.7

# -----------------------------------------------------------------------------
# Multi-Account Provider Configuration
# -----------------------------------------------------------------------------
# Configure multiple provider accounts using nested delimiter pattern (__)
# Format: OPENCODE_PYTHON_ACCOUNTS__<ACCOUNT_NAME>__<FIELD>=<value>
#
# Example: OpenAI Production Account
OPENCODE_PYTHON_ACCOUNTS__OPENAI_PROD__ACCOUNT_NAME=openai_prod
OPENCODE_PYTHON_ACCOUNTS__OPENAI_PROD__PROVIDER_ID=openai
OPENCODE_PYTHON_ACCOUNTS__OPENAI_PROD__API_KEY=sk-your-openai-api-key-here
OPENCODE_PYTHON_ACCOUNTS__OPENAI_PROD__MODEL=gpt-4
OPENCODE_PYTHON_ACCOUNTS__OPENAI_PROD__BASE_URL=https://api.openai.com/v1
OPENCODE_PYTHON_ACCOUNTS__OPENAI_PROD__IS_DEFAULT=true
OPENCODE_PYTHON_ACCOUNTS__OPENAI_PROD__OPTIONS__TEMPERATURE=0.7
OPENCODE_PYTHON_ACCOUNTS__OPENAI_PROD__OPTIONS__MAX_TOKENS=4096

# Example: Anthropic Development Account
OPENCODE_PYTHON_ACCOUNTS__ANTHROPIC_DEV__ACCOUNT_NAME=anthropic_dev
OPENCODE_PYTHON_ACCOUNTS__ANTHROPIC_DEV__PROVIDER_ID=anthropic
OPENCODE_PYTHON_ACCOUNTS__ANTHROPIC_DEV__API_KEY=sk-ant-your-anthropic-api-key-here
OPENCODE_PYTHON_ACCOUNTS__ANTHROPIC_DEV__MODEL=claude-3-5-sonnet-20241022
OPENCODE_PYTHON_ACCOUNTS__ANTHROPIC_DEV__IS_DEFAULT=false

# Example: Z.AI Account (recommended for coding tasks)
OPENCODE_PYTHON_ACCOUNTS__ZAI_MAIN__ACCOUNT_NAME=zai_main
OPENCODE_PYTHON_ACCOUNTS__ZAI_MAIN__PROVIDER_ID=z.ai
OPENCODE_PYTHON_ACCOUNTS__ZAI_MAIN__API_KEY=your-zai-api-key-here
OPENCODE_PYTHON_ACCOUNTS__ZAI_MAIN__MODEL=glm-4.7
OPENCODE_PYTHON_ACCOUNTS__ZAI_MAIN__BASE_URL=https://api.z.ai
OPENCODE_PYTHON_ACCOUNTS__ZAI_MAIN__IS_DEFAULT=false

# Available Account Fields:
#   - ACCOUNT_NAME: Unique name for the account
#   - PROVIDER_ID: Provider ID (see options above)
#   - API_KEY: API key for the provider (required)
#   - MODEL: Model ID to use (required)
#   - BASE_URL: Custom API endpoint (optional)
#   - IS_DEFAULT: true/false for default account (optional)
#   - OPTIONS__<KEY>: Provider-specific options (optional, nested)

# -----------------------------------------------------------------------------
# Legacy Environment Variables (Deprecated)
# -----------------------------------------------------------------------------
# These are deprecated in favor of the multi-account system above
# They may be removed in future versions

# Single API key (deprecated, use ACCOUNTS__<NAME>__API_KEY instead)
OPENCODE_PYTHON_API_KEY=your-api-key-here

# API endpoint (deprecated, use ACCOUNTS__<NAME>__BASE_URL instead)
OPENCODE_PYTHON_API_ENDPOINT=https://api.open-code.ai/v1

# -----------------------------------------------------------------------------
# Memory and Summarization Settings
# -----------------------------------------------------------------------------
# Embedding strategy for memory system
# Options: mock, openai, local
# Default: mock
EMBEDDING_STRATEGY=mock

# Summarization strategy for memory system
# Options: mock, openai
# Default: mock
SUMMARIZATION_STRATEGY=mock

# OpenAI API key for embeddings/summarization
# Only needed if EMBEDDING_STRATEGY=openai or SUMMARIZATION_STRATEGY=openai
OPENAI_API_KEY=sk-your-openai-api-key-here

# -----------------------------------------------------------------------------
# Filesystem Paths
# -----------------------------------------------------------------------------
# Storage directory for sessions and data
# Default: ~/.local/share/opencode-python
OPENCODE_PYTHON_STORAGE_DIR=~/.local/share/opencode-python

# Configuration directory
# Default: ~/.config/opencode-python
OPENCODE_PYTHON_CONFIG_DIR=~/.config/opencode-python

# Cache directory
# Default: ~/.cache/opencode-python
OPENCODE_PYTHON_CACHE_DIR=~/.cache/opencode-python

# -----------------------------------------------------------------------------
# Session Settings
# -----------------------------------------------------------------------------
# Maximum tokens before session compaction
# Default: 20000
OPENCODE_PYTHON_SESSION_COMPACTION_TOKENS=20000

# Protected tokens during compaction
# Default: 40000
OPENCODE_PYTHON_SESSION_COMPACTION_PROTECTED_TOKENS=40000

# -----------------------------------------------------------------------------
# Permission Settings
# -----------------------------------------------------------------------------
# Default action for tool permissions
# Options: ask, allow, deny
# Default: ask
OPENCODE_PYTHON_PERMISSION_DEFAULT_ACTION=ask

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# Log level
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Default: INFO
OPENCODE_PYTHON_LOG_LEVEL=INFO

# =============================================================================
# Development / Testing Variables
# =============================================================================
# Set automatically by pytest during tests
# PYTEST_CURRENT_TEST (do not set manually)

# =============================================================================
# Environment Variable Precedence
# =============================================================================
# 1. Repository root .env (this file)
# 2. ~/.config/opencode-python/.env (user-level overrides)
# 3. System environment variables (highest priority)

# Note: VITE_ variables are loaded by Vite at build time and are exposed
# to client-side JavaScript code. Do not put secrets in VITE_ variables!
